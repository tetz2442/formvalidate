/*! formvalidate - v0.2.0 - 2014-12-05 */!function(a){"use strict";var b={required:{regex:/.+/,error:"This is a required field."},number:{regex:/^\d*[0-9]\d*$/,error:"Only numbers allowed. No Spaces."},letters:{regex:/^[A-Za-z]{1,}$/,error:"Only letters allowed. No Spaces."},email:{regex:/[^@]+@[^@]/,error:"Please enter a valid email (Ex. user@gmail.com)."},radio:{regex:function(b,c){return a('input[name="'+c+'"]:checked').length>0},error:"You must select an option."},telephone:{regex:/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/,error:"Please enter a valid US phone number (Ex. 555-345-3445)."},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,error:"Please enter a valid zip (Ex. 34567 or 34567-3454)."},url:{regex:/^(?:(ftp|http|https):\/\/)?(?:[\w\-]+\.)+[a-z]{2,6}([\:\/?#].*)?$/i,error:"Please enter a valid URL."},min:{regex:function(a,b){return a>=b},error:"Must be greater than or equal to {0}."},max:{regex:function(a,b){return b>=a},error:"Must be less than or equal to {0}."},match:{regex:function(b,c){var d=a(c);return d.length&&b===a(c).val().trim()?!0:!1},error:"This field must match <strong>{0}</strong>."}},c={},d={init:function(b){var c=a.extend({success:"",error:"",validate:"",parentElement:"",validationErrors:!0,errorClass:"input-validation-error",validationErrorClass:"field-validation-error",filter:"",form:"",extend:void 0,submitOnSuccess:!1},b);c.defaultErrorClass="js-field-validation-error";var e,f,g=this;e=c.form.length>0?g.find(c.form):g,0!==e.length&&(e.attr("novalidate","novalidate"),"undefined"!=typeof c.extend&&d.extend(c.extend),g.data("settings",c),g.data("form",e),f=c.filter?g.find(c.filter):e,g.data("filter",f),d.addInputs.apply(this),d.validate.apply(this))},addInputs:function(){var c=(this.data("settings"),this.data("form"),this.data("filter")),e={};c.find('input:not([type="hidden"], [type="submit"]), textarea, select').each(function(){var c=a(this),f={};f.element=c,f.filters=[],f.disabled=!1;var g=c.attr("data-validate-filters");if(c.attr("data-validate-noerror")&&(f.hasErrorSpan=!0),c.is("select")?f.type="select":c.is("checkbox")?f.type="checkbox":c.is(":radio")?(f.type="radio",f.groupName=c.attr("name"),f.filters.push({key:"radio",args:c.attr("name")})):(c.attr("type")||c.attr("data-validate-type"))&&(f.type=c.attr("data-validate-type")||c.attr("type"),b[f.type]&&f.filters.push({type:!0,key:f.type})),c.attr("required")&&f.filters.push({key:"required"}),c.attr("max")){var h=parseInt(c.attr("max"),10);f.filters.push({key:"max",args:h,replace:h})}if(c.attr("min")){var i=parseInt(c.attr("min"),10);f.filters.push({key:"min",args:i,replace:i})}if(g)for(var j=g.split(","),k=0;k<j.length;k++){var l=d.parseFilter(j[k]);l&&f.filters.push(l)}c.attr("name")&&(e[d.cleanseName(c.attr("name"))]=f)}),this.data("inputs",e)},parseFilter:function(a){var d;if(-1!==a.indexOf("{")){var e,f,g=a.substr(0,a.indexOf("{")),h=a.indexOf("{")+1,i=a.slice(h,-1).split("|");i.length&&(e=i[0]),i.length>1&&(f=i[1]),d={key:g,args:e,replace:f}}else d={key:a};return b[d.key]?d:(c[d.key]?d.custom=!0:d=void 0,d)},validate:function(){{var a=this,b=this.data("settings"),c=this.data("form");this.data("filter"),this.data("inputs")}c.on("submit.formvalidate",function(e){e.preventDefault();var f=d.validateFilters.apply(a);"function"==typeof b.validate&&(b.validate(c,f.errorNumber)||f.errorNumber++),f.errorNumber?(e.preventDefault(),"function"==typeof b.error&&b.error(e),c.find("."+b.errorClass).first().focus()):("function"==typeof b.success&&b.success(e),b.submitOnSuccess||e.preventDefault())})},validateFilters:function(){var e=this.data("form"),f=this.data("inputs"),g=this.data("settings"),h=0;function i(b,c,f){if(g.validationErrors&&!f.hasErrorSpan){var h=c.error;"undefined"!=typeof b.replace&&(h=c.error.replace("{0}",b.replace));var i=f.element.parent().find("."+g.defaultErrorClass);i.length||(i=a("<span/>").addClass(g.validationErrorClass).addClass(g.defaultErrorClass),f.element.after(i)),d.changeTooltip.apply(e,[i,h])}}for(var j in f){var k=!0;if(!f[j].disabled&&!f[j].element.is(":disabled")){for(var l=f[j].filters,m=f[j].element.val().trim(),n=0;n<l.length;n++)if("required"===l[n].key){k=b.required.regex.test(m),k||(i(l[n],b.required,f[j]),h++);break}for(var o=0;o<l.length;o++){var p=b;if(l[o].custom&&(p=c),"required"!==l[o].key){var q=p[l[o].key];if(m.length>0&&q){var r;r="function"==typeof q.regex?q.regex(m,l[o].args):q.regex.test(m),r||(g.validationErrors&&i(l[o],q,f[j]),k=!1,h++)}}}}k?d.removeFieldError.apply(this,[f[j]]):d.fieldError.apply(this,[f[j]])}return{valid:0===h,errorNumber:h}},fieldError:function(b){var c=(this.data("form"),this.data("settings"));d.errorListener.apply(this,[b]),c.parentElement&&b.element.parents(c.parentElement).addClass(c.errorClass),"radio"!==b.type?b.element.addClass(c.errorClass).attr("data-valid","false"):a('input[name="'+b.groupName+'"]').addClass(c.errorClass).attr("data-valid","false")},removeFieldError:function(b){var c=(this.data("form"),this.data("settings")),d=0;"radio"!==b?(b.element.attr("data-valid","true"),b.element.parent().find('input:not([type="hidden"]), textarea, select').each(function(){"false"===a(this).attr("data-valid")&&d++}),b.element.removeClass(c.errorClass)):a('input[name="'+b.groupName+'"]').removeClass(c.errorClass).attr("data-valid","true"),c.parentElement&&0===d&&b.element.parents(c.parentElement).removeClass(c.errorClass)},errorListener:function(b){var c=this.data("settings");if("checkbox"===b.type||"radio"===b.type||"select"===b.type){var d=b.element;b.groupName&&(d=a('input[name="'+b.groupName+'"]')),d.off(".formvalidate"),d.on("click.formvalidate change.formvalidate",function(){b.element.parents(c.parentElement).removeClass(c.errorClass),d.removeClass(c.errorClass),c.validationErrors&&!b.hasErrorSpan&&b.element.next().remove(),d.off(".formvalidate")})}else b.element.off(".formvalidate"),b.element.on("keydown.formvalidate change.formvalidate",function(d){if(9!==d.keyCode&&32!==d.keyCode){var e=a(this);e.parents(c.parentElement).removeClass(c.errorClass),e.removeClass(c.errorClass),c.validationErrors&&!b.hasErrorSpan&&e.next().remove(),e.off(".formvalidate")}})},update:function(){var b=(this.data("form"),this.data("inputs")),c=this.data("settings");for(var e in b)"radio"!==b[e]?b[e].element.removeAttr("data-valid").removeClass(c.errorClass):a('input[name="'+b[e].groupName+'"]').removeClass(c.errorClass).removeAttr("data-valid"),c.parentElement&&b[e].element.parents(c.parentElement).removeClass(c.errorClass);this.removeData("inputs"),d.addFilters.apply(this)},extend:function(b){c=a.extend(c,b)},cleanseName:function(a){return a.replace(/[\[\]]+/g,"")},changeTooltip:function(a,b){a.html(b)},disable:function(a){for(var b=this.data("inputs"),c=0;c<a.length;c++){var e=d.cleanseName(a[c].name);"undefined"!=typeof b[e]&&(b[e].disabled=!0)}},enable:function(a){for(var b=this.data("inputs"),c=(this.data("form"),0);c<a.length;c++){var e=d.cleanseName(a[c].name);"undefined"!=typeof b[e]&&(b[e].disabled=!1)}},destroy:function(){var a=this.data("form"),b=this.data("settings");return a?(a.off(".formvalidate"),a.find("."+b.defaultErrorClass).remove(),this.removeData("inputs").removeData("form").removeData("filter").removeData("settings"),!0):!1}};a.fn.formvalidate=function(b){return d[b]?d[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.formvalidate"),this):d.init.apply(this,arguments)}}(jQuery);