/*! formvalidate - v0.2.0 - 2014-12-08 */!function(a){"use strict";String.prototype.trim||!function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}();var b={required:{regex:/.+/,error:"This is a required field."},number:{regex:/^\d*[0-9]\d*$/,error:"Only numbers allowed. No Spaces."},letters:{regex:/^[A-Za-z]{1,}$/,error:"Only letters allowed. No Spaces."},email:{regex:/[^@]+@[^@]/,error:"Please enter a valid email (Ex. user@gmail.com)."},radio:{regex:function(b,c){return a('input[name="'+c+'"]:checked').length>0},error:"You must select an option."},telephone:{regex:/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/,error:"Please enter a valid US phone number (Ex. 555-345-3445)."},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,error:"Please enter a valid zip (Ex. 34567 or 34567-3454)."},url:{regex:/^(?:(ftp|http|https):\/\/)?(?:[\w\-]+\.)+[a-z]{2,6}([\:\/?#].*)?$/i,error:"Please enter a valid URL."},min:{regex:function(a,b){return a>=b},error:"Must be greater than or equal to {0}."},max:{regex:function(a,b){return b>=a},error:"Must be less than or equal to {0}."},match:{regex:function(b,c){var d=a(c);return d.length&&b===a(c).val().trim()?!0:!1},error:"This field must match <strong>{0}</strong>."}},c={},d={success:"",error:"",validate:"",parentElement:"",validationErrors:!0,errorClass:"input-validation-error",validationErrorClass:"field-validation-error",filter:"",form:"",extend:void 0,submitOnSuccess:!1},e={init:function(b){var c=a.extend(d,b);c.defaultErrorClass="js-field-validation-error";var f,g,h=this;f=c.form.length>0?h.find(c.form):h,0!==f.length&&(f.attr("novalidate","novalidate"),"undefined"!=typeof c.extend&&e.extend(c.extend),h.data("settings",c),h.data("form",f),g=c.filter?h.find(c.filter):f,h.data("filter",g),e.addInputs.apply(this),e.validate.apply(this))},addInputs:function(){var c=(this.data("settings"),this.data("form"),this.data("filter")),d={};c.find('input:not([type="hidden"], [type="submit"]), textarea, select').each(function(){var c=a(this),f={};f.element=c,f.filters=[],f.disabled=!1;var g=c.attr("data-validate-filters");if(c.attr("data-validate-noerror")&&(f.hasErrorSpan=!0),c.is("select")?f.type="select":c.is("checkbox")?f.type="checkbox":c.is(":radio")?(f.type="radio",f.groupName=c.attr("name"),f.filters.push({key:"radio",args:c.attr("name")})):(c.attr("type")||c.attr("data-validate-type"))&&(f.type=c.attr("data-validate-type")||c.attr("type"),b[f.type]&&f.filters.push({type:!0,key:f.type})),c.attr("required")&&f.filters.push({key:"required"}),c.attr("max")){var h=parseInt(c.attr("max"),10);f.filters.push({key:"max",args:h,replace:h})}if(c.attr("min")){var i=parseInt(c.attr("min"),10);f.filters.push({key:"min",args:i,replace:i})}if(g)for(var j=g.split(","),k=0;k<j.length;k++){var l=e.parseFilter(j[k]);l&&f.filters.push(l)}c.attr("name")&&(d[e.cleanseName(c.attr("name"))]=f)}),this.data("inputs",d)},parseFilter:function(a){var d;if(-1!==a.indexOf("{")){var e,f,g=a.substr(0,a.indexOf("{")),h=a.indexOf("{")+1,i=a.slice(h,-1).split("|");i.length&&(e=i[0]),i.length>1&&(f=i[1]),d={key:g,args:e,replace:f}}else d={key:a};return b[d.key]?d:(c[d.key]?d.custom=!0:d=void 0,d)},validate:function(){{var a=this,b=this.data("settings"),c=this.data("form");this.data("filter"),this.data("inputs")}c.on("submit.formvalidate",function(d){d.preventDefault();var f=e.validateFilters.apply(a);"function"==typeof b.validate&&(b.validate(c,f.errorNumber)||f.errorNumber++),f.errorNumber?(d.preventDefault(),"function"==typeof b.error&&b.error(d),c.find("."+b.errorClass).first().focus()):("function"==typeof b.success&&b.success(d),b.submitOnSuccess||d.preventDefault())})},validateFilters:function(){var a=this.data("form"),d=this.data("inputs"),f=this.data("settings"),g=0;for(var h in d){var i=!0;if(!d[h].disabled&&!d[h].element.is(":disabled")){for(var j=d[h].filters,k=d[h].element.val().trim(),l=0;l<j.length;l++)if("required"===j[l].key){i=b.required.regex.test(k),i||(e.applyError.apply(a,[j[l],b.required,d[h]]),g++);break}for(var m=0;m<j.length;m++){var n=b;if(j[m].custom&&(n=c),"required"!==j[m].key){var o=n[j[m].key];if(k.length>0&&o){var p;p="function"==typeof o.regex?o.regex(k,j[m].args):o.regex.test(k),p||(f.validationErrors&&e.applyError.apply(a,[j[m],o,d[h]]),i=!1,g++)}}}}i?e.removeFieldError.apply(this,[d[h]]):e.fieldError.apply(this,[d[h]])}return{valid:0===g,errorNumber:g}},applyError:function(b,c,d){var f=this.data("form"),g=this.data("settings");if(g.validationErrors&&!d.hasErrorSpan){var h=c.error;"undefined"!=typeof b.replace&&(h=c.error.replace("{0}",b.replace));var i=d.element.parent().find("."+g.defaultErrorClass);i.length||(i=a("<span/>").addClass(g.validationErrorClass).addClass(g.defaultErrorClass),d.element.after(i)),e.changeTooltip.apply(f,[i,h])}},fieldError:function(b){var c=(this.data("form"),this.data("settings"));e.errorListener.apply(this,[b]),c.parentElement&&b.element.parents(c.parentElement).addClass(c.errorClass),"radio"!==b.type?b.element.addClass(c.errorClass).attr("data-valid","false"):a('input[name="'+b.groupName+'"]').addClass(c.errorClass).attr("data-valid","false")},removeFieldError:function(b){var c=(this.data("form"),this.data("settings")),d=0;"radio"!==b?(b.element.attr("data-valid","true"),b.element.parent().find('input:not([type="hidden"]), textarea, select').each(function(){"false"===a(this).attr("data-valid")&&d++}),b.element.removeClass(c.errorClass)):a('input[name="'+b.groupName+'"]').removeClass(c.errorClass).attr("data-valid","true"),c.parentElement&&0===d&&b.element.parents(c.parentElement).removeClass(c.errorClass)},errorListener:function(b){var c=this.data("settings");if("checkbox"===b.type||"radio"===b.type||"select"===b.type){var d=b.element;b.groupName&&(d=a('input[name="'+b.groupName+'"]')),d.off(".formvalidate"),d.on("click.formvalidate change.formvalidate",function(){b.element.parents(c.parentElement).removeClass(c.errorClass),d.removeClass(c.errorClass),c.validationErrors&&!b.hasErrorSpan&&b.element.next().remove(),d.off(".formvalidate")})}else b.element.off(".formvalidate"),b.element.on("keydown.formvalidate change.formvalidate",function(d){if(9!==d.keyCode&&32!==d.keyCode){var e=a(this);e.parents(c.parentElement).removeClass(c.errorClass),e.removeClass(c.errorClass),c.validationErrors&&!b.hasErrorSpan&&e.next().remove(),e.off(".formvalidate")}})},update:function(){var b=(this.data("form"),this.data("inputs")),c=this.data("settings");for(var d in b)"radio"!==b[d]?b[d].element.removeAttr("data-valid").removeClass(c.errorClass):a('input[name="'+b[d].groupName+'"]').removeClass(c.errorClass).removeAttr("data-valid"),c.parentElement&&b[d].element.parents(c.parentElement).removeClass(c.errorClass);this.removeData("inputs"),e.addFilters.apply(this)},extend:function(b){c=a.extend(c,b)},cleanseName:function(a){return a.replace(/[\[\]]+/g,"")},changeTooltip:function(a,b){a.html(b)},disable:function(a){for(var b=this.data("inputs"),c=0;c<a.length;c++){var d=e.cleanseName(a[c].name);"undefined"!=typeof b[d]&&(b[d].disabled=!0)}},enable:function(a){for(var b=this.data("inputs"),c=(this.data("form"),0);c<a.length;c++){var d=e.cleanseName(a[c].name);"undefined"!=typeof b[d]&&(b[d].disabled=!1)}},destroy:function(){var a=this.data("form"),b=this.data("settings");return a?(a.off(".formvalidate"),a.find("."+b.defaultErrorClass).remove(),this.removeData("inputs").removeData("form").removeData("filter").removeData("settings"),!0):!1}};a.fn.formvalidate=function(b){return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.formvalidate"),this):e.init.apply(this,arguments)}}(jQuery);