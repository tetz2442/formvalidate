/*! formvalidate - v0.1.0 - 2014-12-05 */!function(a){"use strict";var b=["zip","letters","number"],c={required:{regex:/.+/,error:"This is a required field."},number:{regex:/^\d*[0-9]\d*$/,error:"Only numbers allowed. No Spaces."},letters:{regex:/^[A-Za-z]{1,}$/,error:"Only letters allowed. No Spaces."},email:{regex:/[^@]+@[^@]/,error:"Please enter a valid email (Ex. user@gmail.com)."},radio:{regex:function(b,c){return a('input[name="'+c+'"]:checked').length>0},error:"You must select an option."},tel:{regex:/^\(?(\d{3})\)?[- ]?(\d{3})[- ]?(\d{4})$/,error:"Please enter a valid US phone number (Ex. 555-345-3445)."},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,error:"Please enter a valid zip (Ex. 34567 or 34567-3454)."},url:{regex:/^(?:(ftp|http|https):\/\/)?(?:[\w\-]+\.)+[a-z]{2,6}([\:\/?#].*)?$/i,error:"Please enter a valid URL."},min:{regex:function(a,b){return a>=b},error:"Must be greater than or equal to {0}."},max:{regex:function(a,b){return b>=a},error:"Must be less than or equal to {0}."},match:{regex:function(b,c){var d=a(c);return d.length&&b===a(c).val().trim()?!0:!1},error:"This field must match <strong>{0}</strong>."}},d={},e={init:function(b){var c=a.extend({success:"",error:"",validate:"",parentElement:"",validationErrors:!0,errorClass:"input-validation-error",validationErrorClass:"field-validation-error",filter:"",form:"",extend:void 0,submitOnSuccess:!1},b);c.defaultErrorClass="js-field-validation-error";var d,f,g=this;d=c.form.length>0?g.find(c.form):g,0!==d.length&&(d.attr("novalidate","novalidate"),"undefined"!=typeof c.extend&&e.extend(c.extend),g.data("settings",c),g.data("form",d),f=c.filter?g.find(c.filter):d,g.data("filter",f),e.addInputs.apply(this),e.validate.apply(this))},addInputs:function(){var d=(this.data("settings"),this.data("form"),this.data("filter")),f={};d.find("input:not([type='hidden'], [type='submit']), textarea, select").each(function(){var d=a(this),g={};g.element=d,g.filters=[],g.disabled=!1;var h=d.attr("data-filters");if(d.attr("data-noerror")&&(g.hasErrorSpan=!0),d.is("select")?g.type="select":d.is("checkbox")?g.type="checkbox":d.is(":radio")?(g.type="radio",g.groupName=d.attr("name"),g.filters.push({key:"radio",args:d.attr("name")})):d.attr("type")&&(g.type=d.attr("type"),c[g.type]&&g.filters.push({type:!0,key:d.attr("type")})),d.attr("required")&&g.filters.push({key:"required"}),d.attr("max")){var i=parseInt(d.attr("max"),10);g.filters.push({key:"max",args:i,replace:i})}if(d.attr("min")){var j=parseInt(d.attr("min"),10);g.filters.push({key:"min",args:j,replace:j})}if(h)for(var k=h.split(","),l=0;l<k.length;l++)if(-1!==a.inArray(k[l],b)){g.type=k[l];for(var m=0;m<g.filters.length;m++)if(g.filters[m].type){g.filters.splice(m,1);break}g.filters.push({key:k[l]})}else{var n=e.parseFilter(k[l]);n&&g.filters.push(n)}d.attr("name")&&(f[e.cleanseName(d.attr("name"))]=g)}),this.data("inputs",f)},parseFilter:function(a){var b;if(-1!==a.indexOf("{")){var e,f,g=a.substr(0,a.indexOf("{")),h=a.indexOf("{")+1,i=a.slice(h,-1).split("|");i.length&&(e=i[0]),i.length>1&&(f=i[1]),b={key:g,args:e,replace:f}}else b={key:a};return c[b.key]?b:(d[b.key]?b.custom=!0:b=void 0,b)},validate:function(){{var a=this,b=this.data("settings"),c=this.data("form");this.data("filter"),this.data("inputs")}c.on("submit.formvalidate",function(d){d.preventDefault();var f=e.validateFilters.apply(a);"function"==typeof b.validate&&(b.validate(c,f.errorNumber)||f.errorNumber++),0===f.errorNumber?("function"==typeof b.success&&b.success(d),b.submitOnSuccess||d.preventDefault()):(d.preventDefault(),"function"==typeof b.error&&b.error(d),c.find("."+b.errorClass).first().focus())})},validateFilters:function(){var b=this.data("form"),f=this.data("inputs"),g=this.data("settings"),h=0;function i(c,d,f){if(g.validationErrors&&!f.hasErrorSpan){var h=d.error;"undefined"!=typeof c.replace&&(h=d.error.replace("{0}",c.replace));var i=f.element.parent().find("."+g.defaultErrorClass);i.length||(i=a("<span/>").addClass(g.validationErrorClass).addClass(g.defaultErrorClass),f.element.after(i)),e.changeTooltip.apply(b,[i,h])}}for(var j in f){var k=!0;if(!f[j].disabled&&!f[j].element.is(":disabled")){for(var l=f[j].filters,m=f[j].element.val().trim(),n=0;n<l.length;n++)if("required"===l[n].key){k=c.required.regex.test(m),k||(i(l[n],c.required,f[j]),h++);break}for(var o=0;o<l.length;o++){var p=c;if(l[o].custom&&(p=d),"required"!==l[o].key){var q=p[l[o].key];if(m.length>0&&q){var r;r="function"==typeof q.regex?q.regex(m,l[o].args):q.regex.test(m),r||(g.validationErrors&&i(l[o],q,f[j]),k=!1,h++)}}}}k?e.removeFieldError.apply(this,[f[j]]):e.fieldError.apply(this,[f[j]])}return{valid:0===h,errorNumber:h}},fieldError:function(b){var c=(this.data("form"),this.data("settings"));e.errorListener.apply(this,[b]),c.parentElement&&b.element.parents(c.parentElement).addClass(c.errorClass),"radio"!==b.type?b.element.addClass(c.errorClass).attr("data-valid","false"):a('input[name="'+b.groupName+'"]').addClass(c.errorClass).attr("data-valid","false")},removeFieldError:function(b){var c=(this.data("form"),this.data("settings")),d=0;"radio"!==b?(b.element.attr("data-valid","true"),b.element.parent().find("input:not([type='hidden']), textarea, select").each(function(){"false"===a(this).attr("data-valid")&&d++}),b.element.removeClass(c.errorClass)):a('input[name="'+b.groupName+'"]').removeClass(c.errorClass).attr("data-valid","true"),c.parentElement&&0===d&&b.element.parents(c.parentElement).removeClass(c.errorClass)},errorListener:function(b){var c=this.data("settings");if("checkbox"===b.type||"radio"===b.type||"select"===b.type){var d=b.element;b.groupName&&(d=a('input[name="'+b.groupName+'"]')),d.off(".formvalidate"),d.on("click.formvalidate change.formvalidate",function(){b.element.parents(c.parentElement).removeClass(c.errorClass),d.removeClass(c.errorClass),c.validationErrors&&b.element.next().remove(),d.off(".formvalidate")})}else b.element.off(".formvalidate"),b.element.on("keydown.formvalidate change.formvalidate",function(b){if(9!==b.keyCode&&32!==b.keyCode){var d=a(this);d.parents(c.parentElement).removeClass(c.errorClass),d.removeClass(c.errorClass),c.validationErrors&&d.next().remove(),d.off(".formvalidate")}})},update:function(){var b=(this.data("form"),this.data("inputs")),c=this.data("settings");for(var d in b)"radio"!==b[d]?b[d].element.removeAttr("data-valid").removeClass(c.errorClass):a('input[name="'+b[d].groupName+'"]').removeClass(c.errorClass).removeAttr("data-valid"),c.parentElement&&b[d].element.parents(c.parentElement).removeClass(c.errorClass);this.removeData("inputs"),e.addFilters.apply(this)},extend:function(b){d=a.extend(d,b)},cleanseName:function(a){return a.replace(/[\[\]]+/g,"")},changeTooltip:function(a,b){a.html(b)},disable:function(a){for(var b=this.data("inputs"),c=0;c<a.length;c++){var d=e.cleanseName(a[c].name);"undefined"!=typeof b[d]&&(b[d].disabled=!0)}},enable:function(a){for(var b=this.data("inputs"),c=(this.data("form"),0);c<a.length;c++){var d=e.cleanseName(a[c].name);"undefined"!=typeof b[d]&&(b[d].disabled=!1)}},destroy:function(){var a=this.data("form"),b=this.data("settings");return a?(a.off(".formvalidate"),a.find("."+b.defaultErrorClass).remove(),this.removeData("inputs").removeData("form").removeData("filter").removeData("settings"),!0):!1}};a.fn.formvalidate=function(b){return e[b]?e[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on jQuery.formvalidate"),this):e.init.apply(this,arguments)}}(jQuery);